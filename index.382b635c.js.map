{"mappings":"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","sources":["src/scripts/rocket.js","src/scripts/util/step.js"],"sourcesContent":["import { speedForm } from './form';\nimport { step } from './util/step';\n//додаємо слухач подій на поле на рух курсора в та з поля\nplayground.addEventListener('mouseover', selectChosen);\nplayground.addEventListener('mouseout', unselectChosen);\nplayground.addEventListener('click', startBallMovement);\n\n//створюємо пустий масив для нижнього ряду квадратиків, де буде рухатись ракетка\nconst groundDivs = [];\n//обираємо усі квадратики та додаємо у порожній масив нижній ряд\nconst smallDivs = document.querySelectorAll('.small-div');\nsmallDivs.forEach(div => {\n  if (div.dataset.id > 3199) {\n    groundDivs.push(div);\n  }\n});\n\nconst { rightTop, leftTop, leftBottom, rightBottom } = step;\n\nlet speed;\nlet gameInProgress = false;\nlet ballPosition;\nlet interval;\nlet rocket;\nlet score = 0;\n\n//рух мишки у квадратик\nfunction selectChosen(e) {\n  const id = getCurrentPosition(e);\n  const coord = id % 50;\n  buildRocket(coord);\n  rocket.forEach(div => {\n    if (div) div.classList.add('chosen-div');\n  });\n  if (!gameInProgress) {\n    ballPosition = 3150 + coord;\n    paintBall(ballPosition);\n  }\n}\n\nfunction buildRocket(coord) {\n  rocket = [\n    groundDivs[coord - 3],\n    groundDivs[coord - 2],\n    groundDivs[coord - 1],\n    groundDivs[coord],\n    groundDivs[coord + 1],\n    groundDivs[coord + 2],\n    groundDivs[coord + 3],\n  ];\n  //ракетка на всю підлогу)\n  // rocket = [...groundDivs];\n}\n\nfunction getCurrentPosition(e) {\n  const id = e.target.dataset.id;\n  return id;\n}\n\nfunction unselectChosen(e) {\n  const id = getCurrentPosition(e);\n  const coord = id % 50;\n  rocket.forEach(div => {\n    if (div) div.classList.remove('chosen-div');\n  });\n  unpaintBall(3150 + coord);\n}\n\nfunction paintBall(coord) {\n  smallDivs[coord].classList.add('chosen-div');\n}\nfunction unpaintBall(coord) {\n  smallDivs[coord].classList.remove('chosen-div');\n}\n\nfunction startBallMovement() {\n  gameInProgress = true;\n  speed = Number(speedForm);\n  playground.removeEventListener('click', startBallMovement);\n  interval = setInterval(() => defineNextPosition(), speed);\n}\n\nlet currentStep = rightTop;\n\nfunction defineNextPosition() {\n  unpaintBall(ballPosition);\n  hitFloor()\n    ? makeAStep()\n    : hitCeil()\n    ? makeAStep()\n    : hitWall()\n    ? makeAStep()\n    : hitFieldyGeneral()\n    ? makeAStep()\n    : makeAStep();\n}\n\nfunction nextIsPainted() {\n  return smallDivs[ballPosition + currentStep].classList.contains('chosen-div');\n}\n\nfunction makeAStep() {\n  if (nextIsPainted()) {\n    hitFieldyGeneral();\n  }\n  ballPosition += currentStep;\n  paintBall(ballPosition);\n}\n\nfunction hitFieldyGeneral() {\n  const first = hitFieldy();\n  const next = hitSideFieldy();\n  return first || next;\n}\n\nfunction hitFieldy() {\n  if (\n    smallDivs[ballPosition + currentStep].classList.contains('chosen-div') ||\n    (smallDivs[ballPosition - 50].classList.contains('chosen-div') &&\n      currentStep < 0) ||\n    (smallDivs[ballPosition + 50].classList.contains('chosen-div') &&\n      currentStep > 0)\n  ) {\n    score += 2;\n    playerScore.textContent = `${Math.floor(score * calculatePropfit(speed))}`;\n    switch (currentStep) {\n      case rightTop:\n        hitRT();\n        break;\n      case leftBottom:\n        hitLB();\n        break;\n      case rightBottom:\n        hitRB();\n        break;\n      case leftTop:\n        hitLT();\n        break;\n    }\n  }\n}\n\nfunction hitSideFieldy() {\n  if (\n    smallDivs[ballPosition - 1].classList.contains('chosen-div') &&\n    (currentStep === leftTop || currentStep === leftBottom)\n  ) {\n    unpaintBall(ballPosition - 1);\n    return hitSideFieldyLeft();\n  }\n  if (\n    smallDivs[ballPosition + 1].classList.contains('chosen-div') &&\n    (currentStep === rightTop || currentStep === rightBottom)\n  ) {\n    unpaintBall(ballPosition + 1);\n    return hitSideFieldyRight();\n  }\n}\n\nfunction hitSideFieldyLeft() {\n  unpaintBall(ballPosition + currentStep - 1);\n  if (currentStep === leftBottom) {\n    return setStep(rightBottom);\n  }\n  return setStep(rightTop);\n}\n\nfunction hitSideFieldyRight() {\n  unpaintBall(ballPosition + currentStep + 1);\n  if (currentStep === rightBottom) {\n    return setStep(leftBottom);\n  }\n  return setStep(leftTop);\n}\n\n//currentStep = -49;right top\n\nfunction hitRT() {\n  if (smallDivs[ballPosition - 50].classList.contains('chosen-div')) {\n    unpaintBall(ballPosition - 50);\n    return setStep(rightBottom);\n  }\n  unpaintBall(ballPosition + currentStep);\n  return setStep(leftBottom);\n}\n//currentStep = -51; left top\n\nfunction hitLT() {\n  if (smallDivs[ballPosition - 50].classList.contains('chosen-div')) {\n    unpaintBall(ballPosition - 50);\n    return setStep(leftBottom);\n  }\n  unpaintBall(ballPosition + currentStep);\n  return setStep(rightBottom);\n}\n//currentStep = 49; left bottom\n\nfunction hitLB() {\n  if (smallDivs[ballPosition + 50].classList.contains('chosen-div')) {\n    unpaintBall(ballPosition + 50);\n    return setStep(leftTop);\n  }\n  unpaintBall(ballPosition + currentStep);\n  return setStep(rightTop);\n}\n\n//currentStep = 51; rigth bottom\n\nfunction hitRB() {\n  if (smallDivs[ballPosition + 50].classList.contains('chosen-div')) {\n    unpaintBall(ballPosition + 50);\n    return setStep(rightTop);\n  }\n  unpaintBall(ballPosition + currentStep);\n  return setStep(leftTop);\n}\n\nfunction hitWall() {\n  if (ballPosition % 50 === 49 && ballPosition + currentStep !== 3249) {\n    if (currentStep > 0) {\n      return setStep(leftBottom);\n    }\n    return setStep(leftTop);\n  }\n  if (ballPosition % 50 === 0 && ballPosition + currentStep !== 3200) {\n    if (currentStep > 0) {\n      return setStep(rightBottom);\n    }\n    return setStep(rightTop);\n  }\n}\n\nfunction hitCeil() {\n  if (ballPosition < 50) {\n    if (currentStep === rightTop) {\n      return setStep(rightBottom);\n    }\n    return setStep(leftBottom);\n  }\n}\n\nfunction hitFloor() {\n  if (ballPosition > 3150 && currentStep > 0) {\n    if (\n      smallDivs[ballPosition + currentStep].classList.contains('chosen-div')\n    ) {\n      if (\n        smallDivs[ballPosition + currentStep].dataset.id ===\n        rocket[0].dataset.id\n      ) {\n        return setStep(leftTop);\n      }\n\n      if (\n        smallDivs[ballPosition + currentStep].dataset.id ===\n        rocket[6].dataset.id\n      ) {\n        return setStep(rightTop);\n      }\n\n      if (currentStep === leftBottom) {\n        return setStep(leftTop);\n      }\n\n      return setStep(rightTop);\n    }\n    gameOver();\n  }\n}\n\nfunction gameOver() {\n  ballPosition += currentStep;\n  paintBall(ballPosition);\n  setTimeout(() => {\n    unpaintBall(ballPosition);\n    alert('You lose!');\n  }, 50);\n  clearInterval(interval);\n  playground.addEventListener('click', startBallMovement);\n  gameInProgress = false;\n  playerScore.innerHTML = '0';\n}\n\nfunction calculatePropfit(speed) {\n  switch (speed) {\n    case 30:\n      return 3;\n      break;\n    case 40:\n      return 2;\n      break;\n    case 50:\n      return 1.5;\n      break;\n    case 60:\n      return 0.5;\n      break;\n    default:\n      return 1;\n  }\n}\n\nfunction setStep(step) {\n  currentStep = step;\n  return true;\n}\n\nconst playerScore = document.querySelector('.score');\nplayerScore.textContent = score;\n","export const step = {\n  rightTop: -49,\n  leftTop: -51,\n  leftBottom: 49,\n  rightBottom: 51,\n};\n"],"names":["$eVGbD","parcelRequire","playground","addEventListener","e","coord","$3295a67f8df53baa$var$getCurrentPosition","$3295a67f8df53baa$var$rocket","$3295a67f8df53baa$var$groundDivs","$3295a67f8df53baa$var$buildRocket","forEach","div","classList","add","$3295a67f8df53baa$var$gameInProgress","$3295a67f8df53baa$var$ballPosition","$3295a67f8df53baa$var$paintBall","remove","$3295a67f8df53baa$var$unpaintBall","$3295a67f8df53baa$var$startBallMovement","$3295a67f8df53baa$var$smallDivs","document","querySelectorAll","dataset","id","push","rightTop","$3295a67f8df53baa$var$rightTop","leftTop","$3295a67f8df53baa$var$leftTop","leftBottom","$3295a67f8df53baa$var$leftBottom","rightBottom","$3295a67f8df53baa$var$rightBottom","$3295a67f8df53baa$var$speed","$3295a67f8df53baa$var$interval","$3295a67f8df53baa$var$score","target","Number","speedForm","removeEventListener","setInterval","$3295a67f8df53baa$var$currentStep","contains","$3295a67f8df53baa$var$setStep","setTimeout","alert","clearInterval","$3295a67f8df53baa$var$playerScore","innerHTML","$3295a67f8df53baa$var$hitFloor","$3295a67f8df53baa$var$hitCeil","$3295a67f8df53baa$var$hitFieldyGeneral","$3295a67f8df53baa$var$makeAStep","first","textContent","Math","floor","speed1","$3295a67f8df53baa$var$calculatePropfit","$3295a67f8df53baa$var$hitRT","$3295a67f8df53baa$var$hitLB","$3295a67f8df53baa$var$hitRB","$3295a67f8df53baa$var$hitLT","$3295a67f8df53baa$var$hitFieldy","next","$3295a67f8df53baa$var$hitSideFieldy","step1","querySelector"],"version":3,"file":"index.382b635c.js.map"}