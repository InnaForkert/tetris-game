{"mappings":"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","sources":["src/scripts/rocket.js"],"sourcesContent":["import { speedForm } from './form';\n//додаємо слухач подій на поле на рух курсора в та з поля\nplayground.addEventListener('mouseover', selectChosen);\nplayground.addEventListener('mouseout', unselectChosen);\nplayground.addEventListener('click', startBallMovement);\n\n//створюємо пустий масив для нижнього ряду квадратиків, де буде рухатись ракетка\nconst groundDivs = [];\n//обираємо усі квадратики та додаємо у порожній масив нижній ряд\nconst smallDivs = document.querySelectorAll('.small-div');\nsmallDivs.forEach(div => {\n  if (div.dataset.id > 3199) {\n    groundDivs.push(div);\n  }\n});\n\nlet speed;\nlet gameInProgress = false;\nlet ballPosition;\nlet interval;\nlet rocket;\nlet score = 0;\n\n//рух мишки у квадратик\nfunction selectChosen(e) {\n  const id = getCurrentPosition(e);\n  const coord = id % 50;\n  buildRocket(coord);\n  rocket.forEach(div => {\n    if (div) div.classList.add('chosen-div');\n  });\n  if (!gameInProgress) {\n    ballPosition = 3150 + coord;\n    paintBall(ballPosition);\n  }\n}\n\nfunction buildRocket(coord) {\n  rocket = [\n    groundDivs[coord - 3],\n    groundDivs[coord - 2],\n    groundDivs[coord - 1],\n    groundDivs[coord],\n    groundDivs[coord + 1],\n    groundDivs[coord + 2],\n    groundDivs[coord + 3],\n  ];\n}\n\nfunction getCurrentPosition(e) {\n  const id = e.target.dataset.id;\n  return id;\n}\n\nfunction unselectChosen(e) {\n  const id = getCurrentPosition(e);\n  const coord = id % 50;\n  rocket.forEach(div => {\n    if (div) div.classList.remove('chosen-div');\n  });\n  unpaintBall(3150 + coord);\n}\n\nfunction paintBall(coord) {\n  smallDivs[coord].classList.add('chosen-div');\n}\nfunction unpaintBall(coord) {\n  smallDivs[coord].classList.remove('chosen-div');\n}\n\nfunction startBallMovement() {\n  gameInProgress = true;\n  speed = Number(speedForm);\n  playground.removeEventListener('click', startBallMovement);\n  interval = setInterval(() => defineNextPosition(), speed);\n}\n\nlet step = -49;\n\nfunction defineNextPosition() {\n  unpaintBall(ballPosition);\n  hitFloor();\n  hitCeil();\n  hitFieldy(ballPosition);\n  hitWall();\n  ballPosition += step;\n  paintBall(ballPosition);\n}\n\nfunction hitFieldy(pos) {\n  if (\n    smallDivs[pos + step].classList.contains('chosen-div') ||\n    (smallDivs[ballPosition - 50].classList.contains('chosen-div') &&\n      step < 0) ||\n    (smallDivs[ballPosition + 50].classList.contains('chosen-div') && step > 0)\n  ) {\n    score += 2;\n    playerScore.textContent = `${Math.floor(score * calculatePropfit(speed))}`;\n    switch (step) {\n      case -49:\n        hitRT();\n        break;\n      case 49:\n        hitLB();\n        break;\n      case 51:\n        hitRB();\n        break;\n      case -51:\n        hitLT();\n        break;\n    }\n  }\n}\n//step = -49;right top\n\nfunction hitRT() {\n  if (smallDivs[ballPosition - 50].classList.contains('chosen-div')) {\n    unpaintBall(ballPosition - 50);\n    step = 51;\n  } else {\n    unpaintBall(ballPosition - 49);\n    step = 49;\n  }\n}\n//step = -51; left top\n\nfunction hitLT() {\n  if (smallDivs[ballPosition - 50].classList.contains('chosen-div')) {\n    unpaintBall(ballPosition - 50);\n    step = 49;\n  } else {\n    unpaintBall(ballPosition - 51);\n    step = 51;\n  }\n}\n//step = 49; left bottom\n\nfunction hitLB() {\n  if (smallDivs[ballPosition + 50].classList.contains('chosen-div')) {\n    unpaintBall(ballPosition + 50);\n    step = -51;\n  } else {\n    unpaintBall(ballPosition + 49);\n    step = -49;\n  }\n}\n\n//step = 51; rigth bottom\n\nfunction hitRB() {\n  if (smallDivs[ballPosition + 50].classList.contains('chosen-div')) {\n    unpaintBall(ballPosition + 50);\n    step = -49;\n  } else {\n    unpaintBall(ballPosition + 51);\n    step = -51;\n  }\n}\n\nfunction hitWall() {\n  if (ballPosition % 50 === 49) {\n    step = step > 0 ? 49 : -51;\n  } else if (ballPosition % 50 === 0) {\n    step = step > 0 ? 51 : -49;\n  }\n}\n\nfunction hitCeil() {\n  if (ballPosition < 50) {\n    step = step === -49 ? 51 : 49;\n  }\n}\n\nfunction hitFloor() {\n  if (ballPosition > 3150 && step > 0) {\n    if (smallDivs[ballPosition + step].classList.contains('chosen-div')) {\n      if (smallDivs[ballPosition + step].dataset.id === rocket[0].dataset.id) {\n        step = step === 51 ? -51 : -49;\n      } else if (\n        smallDivs[ballPosition + step].dataset.id === rocket[6].dataset.id\n      ) {\n        step = step === 49 ? -49 : -51;\n      } else {\n        step = step === 49 ? -51 : -49;\n      }\n    } else {\n      ballPosition += step;\n      paintBall(ballPosition);\n      setTimeout(() => {\n        unpaintBall(ballPosition);\n        alert('You lose!');\n      }, 50);\n      clearInterval(interval);\n      playground.addEventListener('click', startBallMovement);\n      gameInProgress = false;\n      playerScore.innerHTML = '0';\n    }\n  }\n}\n\nfunction calculatePropfit(speed) {\n  switch (speed) {\n    case 30:\n      return 3;\n      break;\n    case 40:\n      return 2;\n      break;\n    case 50:\n      return 1.5;\n      break;\n    case 60:\n      return 0.5;\n      break;\n    default:\n      return 1;\n  }\n}\n\nconst playerScore = document.querySelector('.score');\nplayerScore.textContent = score;\n"],"names":["$eVGbD","parcelRequire","playground","addEventListener","e","coord","$3295a67f8df53baa$var$getCurrentPosition","$3295a67f8df53baa$var$rocket","$3295a67f8df53baa$var$groundDivs","$3295a67f8df53baa$var$buildRocket","forEach","div","classList","add","$3295a67f8df53baa$var$gameInProgress","$3295a67f8df53baa$var$ballPosition","$3295a67f8df53baa$var$paintBall","remove","$3295a67f8df53baa$var$unpaintBall","$3295a67f8df53baa$var$startBallMovement","$3295a67f8df53baa$var$smallDivs","document","querySelectorAll","$3295a67f8df53baa$var$speed","dataset","id","push","$3295a67f8df53baa$var$interval","$3295a67f8df53baa$var$score","target","Number","speedForm","removeEventListener","setInterval","$3295a67f8df53baa$var$step","contains","setTimeout","alert","clearInterval","$3295a67f8df53baa$var$playerScore","innerHTML","pos","textContent","Math","floor","speed1","$3295a67f8df53baa$var$calculatePropfit","$3295a67f8df53baa$var$hitFieldy","querySelector"],"version":3,"file":"index.2f8d3798.js.map"}