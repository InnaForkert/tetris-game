{"mappings":"AAC4CA,WAAjCC,iBAAiB,aAkB5B,SAAsBC,GACpB,MACMC,EADKC,EAAmBF,GACX,GACJG,EAAYF,GACpBG,SAAQC,IACTA,GAAKA,EAAIC,UAAUC,IAAI,aAAa,IAErCC,IACHC,EAAU,KAAOR,GACjBS,EAAe,KAAOT,E,IA1B1BH,WAAWC,iBAAiB,YAgD5B,SAAwBC,GACtB,MACMC,EADKC,EAAmBF,GACX,GACJG,EAAYF,GACpBG,SAAQC,IACTA,GAAKA,EAAIC,UAAUK,OAAO,aAAa,IAE7CC,EAAY,KAAOX,E,IAtDrBH,WAAWC,iBAAiB,QAASc,GAG8B,MAA7DC,EAAa,GAEbC,EAAYC,SAASC,iBAAiB,cAC5CF,EAAUX,SAAQC,IACZA,EAAIa,QAAQC,GAAK,MACnBL,EAAWM,KAAKf,EAAI,IAGxB,IACIK,EACAW,EAFAb,GAAiB,EAkBrB,SAASL,EAAYF,GAUnB,MATe,CACba,EAAWb,EAAQ,GACnBa,EAAWb,EAAQ,GACnBa,EAAWb,EAAQ,GACnBa,EAAWb,GACXa,EAAWb,EAAQ,GACnBa,EAAWb,EAAQ,GACnBa,EAAWb,EAAQ,G,CAKvB,SAASC,EAAmBF,GAE1B,OADWA,EAAEsB,OAAOJ,QAAQC,E,CAc9B,SAASV,EAAUR,GACjBc,EAAUd,GAAOK,UAAUC,IAAI,a,CAEjC,SAASK,EAAYX,GACnBc,EAAUd,GAAOK,UAAUK,OAAO,a,CAGpC,SAASE,EAAkBb,GACzBQ,GAAiB,EACjBV,WAAWyB,oBAAoB,QAASV,GACxCQ,EAAWG,aAAY,IAKzB,WACEZ,EAAYF,GACRA,EAAe,IAAO,IACxBe,GAAQC,EACRA,GAAa,GACJhB,EAAe,IAAO,IAC/Be,GAAQC,EACRA,EAAa,GAEXhB,EAAe,KACjBe,GAAQA,EAAOC,GAEbhB,EAAe,MAAQe,EAAO,IAC5BV,EAAUL,EAAe,IAAIJ,UAAUqB,SAAS,cAClDF,GAAQA,EAAOC,GAEfjB,EAAUC,EAAee,GACzBG,YAAW,KACThB,EAAYF,GACZmB,MAAM,YAAY,GACjB,IACHC,cAAcT,GACdvB,WAAWC,iBAAiB,QAASc,GACrCL,GAAiB,IAGrBE,GAAgBe,EAChBhB,EAAUC,E,CAhCmBqB,IAAsB,G,CAGrD,IAAIN,GAAO,GACPC,EAAa","sources":["src/scripts/rocket.js"],"sourcesContent":["//додаємо слухач подій на поле на рух курсора в та з поля\nplayground.addEventListener('mouseover', selectChosen);\nplayground.addEventListener('mouseout', unselectChosen);\nplayground.addEventListener('click', startBallMovement);\n\n//створюємо пустий масив для нижнього ряду квадратиків, де буде рухатись ракетка\nconst groundDivs = [];\n//обираємо усі квадратики та додаємо у порожній масив нижній ряд\nconst smallDivs = document.querySelectorAll('.small-div');\nsmallDivs.forEach(div => {\n  if (div.dataset.id > 3199) {\n    groundDivs.push(div);\n  }\n});\nlet gameInProgress = false;\nlet ballPosition;\nlet interval;\n\n//рух мишки у квадратик\nfunction selectChosen(e) {\n  const id = getCurrentPosition(e);\n  const coord = id % 50;\n  const rocket = buildRocket(coord);\n  rocket.forEach(div => {\n    if (div) div.classList.add('chosen-div');\n  });\n  if (!gameInProgress) {\n    paintBall(3150 + coord);\n    ballPosition = 3150 + coord;\n  }\n}\n\nfunction buildRocket(coord) {\n  const rocket = [\n    groundDivs[coord - 3],\n    groundDivs[coord - 2],\n    groundDivs[coord - 1],\n    groundDivs[coord],\n    groundDivs[coord + 1],\n    groundDivs[coord + 2],\n    groundDivs[coord + 3],\n  ];\n  return rocket;\n}\n\nfunction getCurrentPosition(e) {\n  const id = e.target.dataset.id;\n  return id;\n}\n\nfunction unselectChosen(e) {\n  const id = getCurrentPosition(e);\n  const coord = id % 50;\n  const rocket = buildRocket(coord);\n  rocket.forEach(div => {\n    if (div) div.classList.remove('chosen-div');\n  });\n  unpaintBall(3150 + coord);\n}\n\nfunction paintBall(coord) {\n  smallDivs[coord].classList.add('chosen-div');\n}\nfunction unpaintBall(coord) {\n  smallDivs[coord].classList.remove('chosen-div');\n}\n\nfunction startBallMovement(e) {\n  gameInProgress = true;\n  playground.removeEventListener('click', startBallMovement);\n  interval = setInterval(() => defineNextPosition(), 40);\n}\n\nlet step = -49;\nlet correction = 2;\nfunction defineNextPosition() {\n  unpaintBall(ballPosition);\n  if (ballPosition % 50 === 49) {\n    step -= correction;\n    correction = -2;\n  } else if (ballPosition % 50 === 0) {\n    step -= correction;\n    correction = 2;\n  }\n  if (ballPosition < 50) {\n    step = -step + correction;\n  }\n  if (ballPosition > 3150 && step > 0) {\n    if (smallDivs[ballPosition + 50].classList.contains('chosen-div')) {\n      step = -step + correction;\n    } else {\n      paintBall(ballPosition + step);\n      setTimeout(() => {\n        unpaintBall(ballPosition);\n        alert('You lose!');\n      }, 50);\n      clearInterval(interval);\n      playground.addEventListener('click', startBallMovement);\n      gameInProgress = false;\n    }\n  }\n  ballPosition += step;\n  paintBall(ballPosition);\n}\n"],"names":["playground","addEventListener","e","coord","$3295a67f8df53baa$var$getCurrentPosition","$3295a67f8df53baa$var$buildRocket","forEach","div","classList","add","$3295a67f8df53baa$var$gameInProgress","$3295a67f8df53baa$var$paintBall","$3295a67f8df53baa$var$ballPosition","remove","$3295a67f8df53baa$var$unpaintBall","$3295a67f8df53baa$var$startBallMovement","$3295a67f8df53baa$var$groundDivs","$3295a67f8df53baa$var$smallDivs","document","querySelectorAll","dataset","id","push","$3295a67f8df53baa$var$interval","target","removeEventListener","setInterval","$3295a67f8df53baa$var$step","$3295a67f8df53baa$var$correction","contains","setTimeout","alert","clearInterval","$3295a67f8df53baa$var$defineNextPosition"],"version":3,"file":"index.6035075e.js.map"}